"use strict";(self.webpackChunkveterinariaProyecto=self.webpackChunkveterinariaProyecto||[]).push([[477],{7477:(J,c,n)=>{n.r(c),n.d(c,{AddveterinarioModule:()=>y});var d=n(9808),i=n(3075),p=n(842),g=n(5226),s=n.n(g),r=n(5e3),l=n(744),f=n(9574),Z=n(384),v=n(5416),u=n(5245);function A(e,a){if(1&e&&(r.TgZ(0,"span",21),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" Ups, error: ",o.nombreError," ")}}function h(e,a){if(1&e&&(r.TgZ(0,"span",21),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" Error : ",o.emailErrorMsg," ")}}function T(e,a){if(1&e&&(r.TgZ(0,"span",21),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" Error: ",o.passError," ")}}function q(e,a){if(1&e&&(r.TgZ(0,"option",22),r._uU(1),r.qZA()),2&e){const o=a.$implicit;r.Q6J("value",o),r.xp6(1),r.Oqu(o)}}function E(e,a){if(1&e&&(r.TgZ(0,"span",21),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" Error encontrado: ",o.tipoVeterinarioError," ")}}function x(e,a){1&e&&(r.TgZ(0,"span",21),r._uU(1," -- "),r.qZA())}function b(e,a){if(1&e&&(r.TgZ(0,"span",21),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" Error : ",o.telefonoError,"")}}const C=function(){return["/parteadm/menua/menuAdmin"]};let N=(()=>{class e{constructor(o,t,m,F,w,I){this.formB=o,this.route=t,this.router=m,this.adminservi=F,this.authServi=w,this.emailValidator=I,this.listaTipoVeterinario=["Diagnosticos","Operaciones","General"],this.submitted=!1,this.loading=!1,this.registrando=!1,this.reglaEmail="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.reglaNombre="[A-Za-z]{1,20}",this.reglaApellidos="^[A-Za-z]{1,20}[' ']{1}[A-Za-z]{1,20}$",this.reglaPass="",this.reglaTelefono="[0-9]{9}",this.reglas="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.miFormulario=this.formB.group({nombre:["",[i.kI.required,i.kI.pattern(this.reglaNombre)]],password:["",[i.kI.required,i.kI.minLength(4)]],email:["",[i.kI.required,i.kI.minLength(5),i.kI.pattern(this.reglaEmail)],[this.emailValidator]],direccion:[""],telefono:["",[i.kI.required,i.kI.pattern(this.reglaTelefono)]],tipo:["",[i.kI.required]],role:[""]})}campoEsValido(o){return this.miFormulario.controls[o].errors&&this.miFormulario.controls[o].touched}get nombreError(){var o;const t=null===(o=this.miFormulario.get("nombre"))||void 0===o?void 0:o.errors;return t.required?"El nombre es obligatorio. No puede estar vac\xedo":t.pattern?"El valor ingresado no tiene formato de correo":""}get emailErrorMsg(){var o;const t=null===(o=this.miFormulario.get("email"))||void 0===o?void 0:o.errors;return t.required?"Email es obligatorio, no puede estar el campo vac\xedo":t.pattern?"El valor ingresado no tiene formato de correo correcto":t.emailTomado?"El email ya fue tomado anteriormente, es decir, ya existe en la base de datos.Por favor, ingrese otro correo disponible":""}get passError(){var o;const t=null===(o=this.miFormulario.get("password"))||void 0===o?void 0:o.errors;return t.required?"Contrase\xf1a es obligatoria, no puede estar vacio":t.pattern?"Debe contener m\xednimo 4 caracteres":""}get telefonoError(){var o;const t=null===(o=this.miFormulario.get("telefono"))||void 0===o?void 0:o.errors;return t.required?"Tel\xe9fono es obligatorio, no puede estar vac\xedo":t.pattern?"El formato es incorrecto. Debe ser 9 n\xfameros 000000000":""}get tipoVeterinarioError(){var o;return(null===(o=this.miFormulario.get("tipo"))||void 0===o?void 0:o.errors).required?"El tipo de veterinario  es obligatorio, no puede estar vac\xedo. Por favor, selecciona uno":""}crearNuevoCliente(){if(!this.registrando){if(this.miFormulario.markAllAsTouched(),this.submitted=!0,this.miFormulario.invalid)return void s().fire({icon:"error",title:"Error",text:"No esta correcto el formato de los datos introducidos"});this.ClienteNew=this.miFormulario.value,this.loading=!0,this.registrando=!0,this.carga(),this.adminservi.crearVeterinario(this.ClienteNew).subscribe({next:o=>{s().fire({position:"center",icon:"success",title:"Se ha registrado correctamente el veterinario",showConfirmButton:!1,timer:2500}),(0,p.g)(2500),window.location.href="../parteadm/menua/menuAdmin"},error:o=>{s().fire({icon:"error",title:"Error",text:o.error.message})}})}}ngOnInit(){this.cargainicial()}volverMenu(){window.history.back()}carga(){s().fire({title:"Por favor, espere",timer:2500}),s().showLoading()}cargainicial(){s().fire({title:"Por favor, espere",timer:800}),s().showLoading()}}return e.\u0275fac=function(o){return new(o||e)(r.Y36(i.qu),r.Y36(l.gz),r.Y36(l.F0),r.Y36(f.A),r.Y36(Z.e),r.Y36(v.e))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-addveterinario"]],decls:65,vars:10,consts:[[1,"h1","text-info"],[1,"row","justify-content-centrer"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","bg-white","py-5","mt-5","rounded","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","row","my-2"],[1,"text-info","h4","py-2"],[1,"col-sm-12"],["type","text","formControlName","nombre","id","nombre","placeholder","nombre",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"text-info","h4","p-2"],["type","email","formControlName","email","id","email","placeholder","Escribe tu email",1,"form-control"],["type","password","formControlName","password","id","password","placeholder","Escribe tu password",1,"form-control"],["formControlName","tipo","id","tipo",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","direccion","id","direccion","placeholder","Escribe tu direcci\xf3n. Puedes realizarlo m\xe1s tarde",1,"form-control"],["type","number","formControlName","telefono","id","telefono","placeholder","Escribe tu tel\xe9fono",1,"form-control"],["type","hidden","formControlName","role","id","role","value","VETERINARIO",1,"form-control"],[1,"form-group","row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","my-3"],["routerLinkActive","active",1,"btn","btn-secondary","col-12","col-lg-6","text-white","p-3",3,"routerLink","click"],["type","submit",1,"btn","btn-info","col-12","col-lg-6","p-3"],[1,"form-text","text-danger"],[3,"value"]],template:function(o,t){1&o&&(r.TgZ(0,"p",0),r.TgZ(1,"strong"),r._uU(2,"Reg\xedstrar un nuevo veterinario"),r.qZA(),r.qZA(),r.TgZ(3,"div",1),r.TgZ(4,"div",2),r.TgZ(5,"form",3),r.NdJ("ngSubmit",function(){return t.crearNuevoCliente()}),r.TgZ(6,"div",4),r.TgZ(7,"p",5),r.TgZ(8,"strong"),r._uU(9,"~Nombre*~ "),r.qZA(),r.qZA(),r.TgZ(10,"div",6),r._UZ(11,"input",7),r.YNc(12,A,2,1,"span",8),r.qZA(),r.qZA(),r.TgZ(13,"div",4),r.TgZ(14,"p",9),r.TgZ(15,"strong"),r._uU(16,"~Correo*~"),r.qZA(),r.qZA(),r.TgZ(17,"div",6),r._UZ(18,"input",10),r.YNc(19,h,2,1,"span",8),r.qZA(),r.qZA(),r.TgZ(20,"div",4),r.TgZ(21,"p",9),r.TgZ(22,"strong"),r._uU(23,"~Contrase\xf1a*~ "),r.qZA(),r.qZA(),r.TgZ(24,"div",6),r._UZ(25,"input",11),r.YNc(26,T,2,1,"span",8),r.qZA(),r.qZA(),r.TgZ(27,"div",4),r.TgZ(28,"p",9),r.TgZ(29,"strong"),r._uU(30,"~Tipo de veterinario*~ "),r.qZA(),r.qZA(),r.TgZ(31,"div",6),r.TgZ(32,"p"),r.TgZ(33,"select",12),r.YNc(34,q,2,2,"option",13),r.qZA(),r.qZA(),r.YNc(35,E,2,1,"span",8),r.qZA(),r.qZA(),r.TgZ(36,"div",4),r.TgZ(37,"p",9),r.TgZ(38,"strong"),r._uU(39,"~Direcci\xf3n~ "),r.qZA(),r.qZA(),r.TgZ(40,"div",6),r._UZ(41,"input",14),r.YNc(42,x,2,0,"span",8),r.qZA(),r.qZA(),r.TgZ(43,"div",4),r.TgZ(44,"p",9),r.TgZ(45,"strong"),r._uU(46,"~Tel\xe9fono~ "),r.qZA(),r.qZA(),r.TgZ(47,"div",6),r._UZ(48,"input",15),r.YNc(49,b,2,1,"span",8),r.qZA(),r.qZA(),r.TgZ(50,"div",4),r.TgZ(51,"div",6),r._UZ(52,"input",16),r.qZA(),r.qZA(),r.TgZ(53,"div",17),r.TgZ(54,"div",18),r.TgZ(55,"a",19),r.NdJ("click",function(){return t.carga()}),r.TgZ(56,"strong"),r.TgZ(57,"mat-icon"),r._uU(58,"arrow_back"),r.qZA(),r._uU(59," Volver al men\xfa de administrador "),r.qZA(),r.qZA(),r.TgZ(60,"button",20),r.TgZ(61,"strong"),r._uU(62,"Registrar\t"),r.TgZ(63,"mat-icon"),r._uU(64,"group_add"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.xp6(5),r.Q6J("formGroup",t.miFormulario),r.xp6(7),r.Q6J("ngIf",t.campoEsValido("nombre")),r.xp6(7),r.Q6J("ngIf",t.campoEsValido("email")),r.xp6(7),r.Q6J("ngIf",t.campoEsValido("password")),r.xp6(8),r.Q6J("ngForOf",t.listaTipoVeterinario),r.xp6(1),r.Q6J("ngIf",t.campoEsValido("tipo")),r.xp6(7),r.Q6J("ngIf",t.campoEsValido("direccion")),r.xp6(7),r.Q6J("ngIf",t.campoEsValido("telefono")),r.xp6(6),r.Q6J("routerLink",r.DdM(9,C)))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.O5,i.EJ,d.sg,i.YN,i.Kr,i.wV,l.yS,l.Od,u.Hw],encapsulation:2}),e})();var U=n(520);let y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[d.ez,u.Ps,i.UX,U.JF,i.u5,l.Bz,l.Bz.forChild([{path:"addVeterinario",component:N}])]]}),e})()}}]);