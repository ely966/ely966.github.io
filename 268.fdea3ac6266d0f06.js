"use strict";(self.webpackChunkveterinariaProyecto=self.webpackChunkveterinariaProyecto||[]).push([[268],{268:(_,c,n)=>{n.r(c),n.d(c,{EditarveterinarioModule:()=>b});var g=n(9808),i=n(3075),p=n(842),v=n(5226),d=n.n(v),e=n(5e3),u=n(744),f=n(51),m=n(5245);function Z(t,s){if(1&t&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" Error:",r.nombreError," ")}}function h(t,s){if(1&t&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" Error: ",r.passError," ")}}function T(t,s){if(1&t&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" error: ",r.direccionError," ")}}function E(t,s){if(1&t&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" Error : ",r.telefonoError,"")}}const q=function(){return["/veterinariopag/opcionmenuVeterinario/menuVeterinario"]};let C=(()=>{class t{constructor(r,o,l){this.router=r,this.formB=o,this.veteriServi=l,this.submitted=!1,this.loading=!1,this.editando=!1,this.reglaEmail="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.reglaNombre="[A-Za-z]{1,20}",this.reglaApellidos="^[A-Za-z]{1,20}[' ']{1}[A-Za-z]{1,20}$",this.reglaPass="",this.reglaTelefono="[0-9]{9}",this.miFormulario=this.formB.group({id:[],nombre:["",[i.kI.required,i.kI.minLength(4)]],password:["",[]],direccion:["",[i.kI.required]],telefono:["",[i.kI.required,i.kI.pattern(this.reglaTelefono)]]})}ngOnInit(){this.veteriServi.recogerInfoVeterinario().subscribe(r=>{this.veterinario=r})}campoEsValido(r){return this.miFormulario.controls[r].errors&&this.miFormulario.controls[r].touched}get nombreError(){var r;const o=null===(r=this.miFormulario.get("nombre"))||void 0===r?void 0:r.errors;return o.required?"El nombre es obligatorio. No puede estar vac\xedo":o.pattern?"El valor ingresado no tiene formato de correo":""}get passError(){var r;const o=null===(r=this.miFormulario.get("password"))||void 0===r?void 0:r.errors;return o.required?"Contrase\xf1a es obligatoria, no puede estar vacio":o.pattern?"Debe contener m\xednimo 4 caracteres":""}get telefonoError(){var r;const o=null===(r=this.miFormulario.get("telefono"))||void 0===r?void 0:r.errors;return o.required?"Tel\xe9fono es obligatorio, no puede estar vac\xedo":o.pattern?"El formato es incorrecto. Debe ser 9 n\xfameros 000000000":""}get direccionError(){var r;const o=null===(r=this.miFormulario.get("direccion"))||void 0===r?void 0:r.errors;return o.required?"La direccion es obligatorio. No puede estar vac\xedo":o.pattern?"El valor ingresado no tiene formato de correo":""}editarVeterinario(){if(1!=this.editando){if(this.miFormulario.markAllAsTouched(),this.submitted=!0,this.miFormulario.invalid)return void d().fire({icon:"error",title:"Error",text:"No esta correcto el formato de los datos introducidos"});this.veterinarioEditado=this.miFormulario.value,this.carga(),this.veteriServi.editardatosveterinario(this.veterinarioEditado).subscribe({next:r=>{d().fire({title:"Editado correctamente",text:"Tus datos han sido editados correctamente.",icon:"success",position:"center",timer:2500}),(0,p.g)(2500),this.router.navigateByUrl("/veterinariopag/opcionmenuVeterinario/menuVeterinario")},error:r=>{d().fire("Error",r.error.message,"error")}})}}volvermenuveterinario(){this.router.navigateByUrl("/veterinariopag/opcionmenuVeterinario/menuVeterinario")}carga(){d().fire({title:"Por favor, espere",timer:2500}),d().showLoading()}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(u.F0),e.Y36(i.qu),e.Y36(f.u))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-editarveterinario"]],decls:53,vars:12,consts:[[1,"h1","text-info"],[1,"row","justify-content-centrer"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","bg-white","py-5","mt-5","rounded","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","row","my-2"],[1,"text-info","h4","py-2"],[1,"col-sm-12"],["type","number","formControlName","id","id","id","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["class","form-text text-danger",4,"ngIf"],[1,"text-info","h4","p-2"],["type","password","formControlName","password","id","password","placeholder","Escribe la contrase\xf1a, solo si desea cambiarla, sino dejalo blanco",1,"form-control",3,"ngModel","ngModelChange"],["type","text","formControlName","direccion","id","direccion","placeholder","Escribe tu direcci\xf3n. Puedes realizarlo m\xe1s tarde",1,"form-control",3,"ngModel","ngModelChange"],["type","number","formControlName","telefono","id","telefono","placeholder","Escribe tu tel\xe9fono",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","my-3"],["id","botonregresarfor","routerLinkActive","active",1,"btn","btn-secondary","text-white","col-12","col-lg-6","p-3",3,"routerLink","click"],["id","botonregistro","type","submit",1,"btn","btn-info","col-12","col-lg-6","p-3"],[1,"form-text","text-danger"]],template:function(r,o){1&r&&(e.TgZ(0,"p",0),e.TgZ(1,"strong"),e._uU(2,"Editar tus datos"),e.qZA(),e.qZA(),e._UZ(3,"p"),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"form",3),e.NdJ("ngSubmit",function(){return o.editarVeterinario()}),e.TgZ(7,"div",4),e.TgZ(8,"p",5),e.TgZ(9,"strong"),e._uU(10,"~Tu id~ "),e.qZA(),e.qZA(),e.TgZ(11,"div",6),e.TgZ(12,"input",7),e.NdJ("ngModelChange",function(a){return o.veterinario.id=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",4),e.TgZ(14,"p",5),e.TgZ(15,"strong"),e._uU(16,"~Tu nombre~ "),e.qZA(),e.qZA(),e.TgZ(17,"div",6),e.TgZ(18,"input",8),e.NdJ("ngModelChange",function(a){return o.veterinario.nombre=a}),e.qZA(),e.YNc(19,Z,2,1,"span",9),e.qZA(),e.qZA(),e.TgZ(20,"div",4),e.TgZ(21,"p",10),e.TgZ(22,"strong"),e._uU(23,"~Tu contrase\xf1a~ "),e.qZA(),e.qZA(),e.TgZ(24,"div",6),e.TgZ(25,"input",11),e.NdJ("ngModelChange",function(a){return o.veterinario.password=a}),e.qZA(),e.YNc(26,h,2,1,"span",9),e.qZA(),e.qZA(),e.TgZ(27,"div",4),e.TgZ(28,"p",10),e.TgZ(29,"strong"),e._uU(30,"~Tu direcci\xf3n~ "),e.qZA(),e.qZA(),e.TgZ(31,"div",6),e.TgZ(32,"input",12),e.NdJ("ngModelChange",function(a){return o.veterinario.direccion=a}),e.qZA(),e.YNc(33,T,2,1,"span",9),e.qZA(),e.qZA(),e.TgZ(34,"div",4),e.TgZ(35,"p",10),e.TgZ(36,"strong"),e._uU(37,"~Tu tel\xe9fono~ "),e.qZA(),e.qZA(),e.TgZ(38,"div",6),e.TgZ(39,"input",13),e.NdJ("ngModelChange",function(a){return o.veterinario.telefono=a}),e.qZA(),e.YNc(40,E,2,1,"span",9),e.qZA(),e.qZA(),e.TgZ(41,"div",14),e.TgZ(42,"div",15),e.TgZ(43,"a",16),e.NdJ("click",function(){return o.carga()}),e.TgZ(44,"strong"),e.TgZ(45,"mat-icon"),e._uU(46,"arrow_back"),e.qZA(),e._uU(47," Volver al men\xfa de veterinario"),e.qZA(),e.qZA(),e.TgZ(48,"button",17),e.TgZ(49,"strong"),e._uU(50," Editar tus datos "),e.TgZ(51,"mat-icon"),e._uU(52," border_color"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r&&(e.xp6(6),e.Q6J("formGroup",o.miFormulario),e.xp6(6),e.Q6J("ngModel",o.veterinario.id),e.xp6(6),e.Q6J("ngModel",o.veterinario.nombre),e.xp6(1),e.Q6J("ngIf",o.campoEsValido("nombre")),e.xp6(6),e.Q6J("ngModel",o.veterinario.password),e.xp6(1),e.Q6J("ngIf",o.campoEsValido("password")),e.xp6(6),e.Q6J("ngModel",o.veterinario.direccion),e.xp6(1),e.Q6J("ngIf",o.campoEsValido("direccion")),e.xp6(6),e.Q6J("ngModel",o.veterinario.telefono),e.xp6(1),e.Q6J("ngIf",o.campoEsValido("telefono")),e.xp6(3),e.Q6J("routerLink",e.DdM(11,q)))},directives:[i._Y,i.JL,i.sg,i.wV,i.Fj,i.JJ,i.u,g.O5,u.yS,u.Od,m.Hw],encapsulation:2}),t})(),b=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,i.u5,m.Ps,u.Bz,i.UX,u.Bz.forChild([{path:"veterinarioeditar",component:C}])]]}),t})()}}]);