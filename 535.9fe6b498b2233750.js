"use strict";(self.webpackChunkveterinariaProyecto=self.webpackChunkveterinariaProyecto||[]).push([[535],{2052:(M,u,a)=>{a.r(u),a.d(u,{EditarmascotaModule:()=>T});var g=a(9808),h=a(5226),c=a.n(h),r=a(3075),t=a(5e3),Z=a(744),f=a(5530),p=a(5245);function m(e,l){if(1&e&&t._UZ(0,"img",9),2&e){const o=t.oxw();t.MGl("src","http://localhost:9000/uploads/img/",o.mascotaAeditar.foto,"",t.LSH)}}function s(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){return t.CHM(o),t.oxw().editarMascota()}),t.TgZ(1,"div",11),t.TgZ(2,"div",12),t.TgZ(3,"input",13),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().mascotaAeditar.id=i}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"div",11),t.TgZ(5,"p",14),t.TgZ(6,"strong"),t.TgZ(7,"mat-icon"),t._uU(8,"pets"),t.qZA(),t._uU(9,"Nombre "),t.qZA(),t.qZA(),t.TgZ(10,"div",12),t.TgZ(11,"input",15),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().mascotaAeditar.nombre=i}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",11),t.TgZ(13,"p",14),t.TgZ(14,"strong"),t.TgZ(15,"mat-icon"),t._uU(16,"pets"),t.qZA(),t._uU(17,"Tipo "),t.qZA(),t.qZA(),t.TgZ(18,"div",12),t.TgZ(19,"input",16),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().mascotaAeditar.tipo=i}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",11),t.TgZ(21,"p",14),t.TgZ(22,"strong"),t.TgZ(23,"mat-icon"),t._uU(24,"pets"),t.qZA(),t._uU(25,"Raza "),t.qZA(),t.qZA(),t.TgZ(26,"div",12),t.TgZ(27,"input",17),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().mascotaAeditar.raza=i}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",11),t.TgZ(29,"p",14),t.TgZ(30,"strong"),t.TgZ(31,"mat-icon"),t._uU(32,"pets"),t.qZA(),t._uU(33,"Edad "),t.qZA(),t.qZA(),t.TgZ(34,"div",12),t.TgZ(35,"input",18),t.NdJ("ngModelChange",function(i){return t.CHM(o),t.oxw().mascotaAeditar.edad=i}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",19),t.TgZ(37,"div",20),t.TgZ(38,"a",21),t.NdJ("click",function(){return t.CHM(o),t.oxw().volverListaMascota()}),t.TgZ(39,"strong"),t.TgZ(40,"mat-icon"),t._uU(41,"arrow_back"),t.qZA(),t._uU(42,"Volver al men\xfa de cliente"),t.qZA(),t.qZA(),t.TgZ(43,"button",22),t.NdJ("click",function(){return t.CHM(o),t.oxw().editarMascota()}),t.TgZ(44,"strong"),t._uU(45," Editar los datos de tu mascota"),t.TgZ(46,"mat-icon"),t._uU(47," border_color"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(48,"br"),t._UZ(49,"br"),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("formGroup",o.miFormulario),t.xp6(3),t.s9C("value",o.mascotaAeditar.id),t.Q6J("ngModel",o.mascotaAeditar.id),t.xp6(8),t.s9C("value",o.mascotaAeditar.nombre),t.Q6J("ngModel",o.mascotaAeditar.nombre),t.xp6(8),t.s9C("value",o.mascotaAeditar.tipo),t.Q6J("ngModel",o.mascotaAeditar.tipo),t.xp6(8),t.s9C("value",o.mascotaAeditar.raza),t.Q6J("ngModel",o.mascotaAeditar.raza),t.xp6(8),t.s9C("value",o.mascotaAeditar.edad),t.Q6J("ngModel",o.mascotaAeditar.edad)}}let A=(()=>{class e{constructor(o,n,i){this.router=o,this.formB=n,this.mascotaServi=i,this.submitted=!1,this.loading=!1,this.miFormulario=this.formB.group({id:[,[r.kI.required]],nombre:[,[r.kI.required]],tipo:[,[r.kI.required]],raza:[,[]],edad:[,[r.kI.required]],usuario:[,[]]})}ngOnInit(){this.mascotaServi.datosMascota(JSON.parse(localStorage.getItem("idMascotaEdit"))).subscribe(o=>{this.mascotaAeditar=o})}seleccinarFoto(o){this.fotoSeleccionada=o.target.files[0],this.fotoSeleccionada.type.indexOf("image")<0&&c().fire("Error al seleccionar imagen","Se debe seleccionar un archivo que sea una imagen","error")}subirFoto(){this.fotoSeleccionada?(this.id=this.mascotaServi.devolverid(),this.mascotaServi.subirFoto(this.fotoSeleccionada,this.id).subscribe(o=>{this.datosMascota=o,c().fire("la foto se a a\xf1adido a la mascota correctamente","","success")})):c().fire("Error encontrado","Dee seleccionar una foto","error")}editarMascota(){this.mascotaEditada=this.miFormulario.value,this.mascotaServi.editarMascotaSelecionada(this.mascotaEditada).subscribe({next:o=>{c().fire({title:"Editado correctamente",text:"La mascota ha sido editada. \xbfQuieres volver a la tabla de mostrar mascota?",icon:"success",confirmButtonColor:"#3085d6",confirmButtonText:"Si",showCancelButton:!0,cancelButtonColor:"#d33"}).then(n=>{n.isConfirmed&&window.history.back()})},error:o=>{c().fire("Error",o.error.message,"error")}})}volverListaMascota(){window.history.back()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Z.F0),t.Y36(r.qu),t.Y36(f.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-editarmascota"]],decls:32,vars:2,consts:[[1,"h1","text-info","row","p-3","my-3"],[1,"h6","text-info","row","p-3","my-3"],[1,"row","col-sm","justify-content-center","my-3"],["class","img-thumbnail","width","400","height","350",3,"src",4,"ngIf"],[1,"h4","text-info","row","p-3","my-3","justify-content-center"],[1,"input-group","mb-3","col-10"],["type","file","placeholder","Recipient's username","aria-label","Recipient's username","aria-describedby","button-addon2",1,"form-control","col-sm-5","col-md-5","col-lg-5",3,"change"],["type","button","id","button-addon2",1,"btn","btn-info","col-4",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],["width","400","height","350",1,"img-thumbnail",3,"src"],[3,"formGroup","ngSubmit"],[1,"form-group","row","my-2","justify-content-center"],[1,"col-sm-10"],["type","hidden","formControlName","id","id","id",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"text-info","h4","p-2"],["type","text","id","nombre","formControlName","nombre",1,"form-control",3,"ngModel","value","ngModelChange"],["type","text","id","tipo","formControlName","tipo","readonly","",1,"form-control",3,"ngModel","value","ngModelChange"],["type","text","id","raza","formControlName","raza",1,"form-control",3,"ngModel","value","ngModelChange"],["type","number","id","edad","placeholder","Edad de tu mascota","formControlName","edad",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"form-group","row","justify-content-center","p-3"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","my-3"],["id","botonregresarfor",1,"btn","btn-secondary","text-white","col-12","col-lg-6","p-3",3,"click"],["id","botonregistro","type","submit",1,"btn","btn-info","col-12","col-lg-6","p-3",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"p",0),t.TgZ(1,"strong"),t.TgZ(2,"mat-icon"),t._uU(3,"pets"),t.qZA(),t._uU(4,"Editar los datos de tu mascota "),t.TgZ(5,"mat-icon"),t._uU(6,"pets"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"p",1),t.TgZ(8,"strong"),t.TgZ(9,"mat-icon"),t._uU(10,"pets"),t.qZA(),t._uU(11,"Puedes editar solo la foto de tu mascota o editar solo los datos, o ambas"),t.TgZ(12,"mat-icon"),t._uU(13,"pets"),t.qZA(),t.qZA(),t.qZA(),t._UZ(14,"hr"),t.TgZ(15,"div",2),t.YNc(16,m,1,1,"img",3),t.TgZ(17,"p",4),t.TgZ(18,"mat-icon"),t._uU(19,"pets"),t.qZA(),t.TgZ(20,"strong"),t._uU(21,"\xbfQuieres cambiar al imagen?"),t.qZA(),t.TgZ(22,"mat-icon"),t._uU(23,"pets"),t.qZA(),t.qZA(),t.TgZ(24,"div",5),t.TgZ(25,"input",6),t.NdJ("change",function(d){return n.seleccinarFoto(d)}),t.qZA(),t.TgZ(26,"button",7),t.NdJ("click",function(){return n.subirFoto()}),t._uU(27,"Cambiar imagen"),t.qZA(),t.qZA(),t._UZ(28,"hr"),t._UZ(29,"hr"),t.YNc(30,s,50,11,"form",8),t._UZ(31,"br"),t.qZA()),2&o&&(t.xp6(16),t.Q6J("ngIf",null==n.mascotaAeditar?null:n.mascotaAeditar.foto),t.xp6(14),t.Q6J("ngIf",n.mascotaAeditar))},directives:[p.Hw,g.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.wV],encapsulation:2}),e})(),T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.ez,r.UX,p.Ps,Z.Bz.forChild([{path:"editarMascota",component:A}])]]}),e})()},7535:(M,u,a)=>{a.r(u),a.d(u,{MascotaModule:()=>p});var g=a(2052),h=a(9808),c=a(3075),r=a(744),t=a(9444),Z=a(5245),f=a(5e3);let p=(()=>{class m{}return m.\u0275fac=function(A){return new(A||m)},m.\u0275mod=f.oAB({type:m}),m.\u0275inj=f.cJS({imports:[[h.ez,r.Bz,c.u5,Z.Ps,t.uH,c.UX,g.EditarmascotaModule,r.Bz.forChild([{path:"addM",loadChildren:()=>a.e(985).then(a.bind(a,985)).then(s=>s.CrearMascotaModule)},{path:"mostrarM",loadChildren:()=>Promise.all([a.e(801),a.e(934)]).then(a.bind(a,934)).then(s=>s.MostrarMascotaModule)},{path:"editarM",loadChildren:()=>Promise.resolve().then(a.bind(a,2052)).then(s=>s.EditarmascotaModule)},{path:"mostrarDatosunamascota",loadChildren:()=>a.e(121).then(a.bind(a,6121)).then(s=>s.MostrardatosunamascotaModule)}])]]}),m})()}}]);