"use strict";(self.webpackChunkveterinariaProyecto=self.webpackChunkveterinariaProyecto||[]).push([[759],{1759:(b,c,a)=>{a.r(c),a.d(c,{EditadminModule:()=>C});var u=a(9808),t=a(3075),p=a(5226),m=a.n(p),f=a(842),o=a(5e3),l=a(744),Z=a(9574),g=a(5245);function h(e,d){if(1&e&&(o.TgZ(0,"span",19),o._uU(1),o.qZA()),2&e){const r=o.oxw(2);o.xp6(1),o.hij(" Error:",r.nombreError," ")}}function _(e,d){if(1&e&&(o.TgZ(0,"span",19),o._uU(1),o.qZA()),2&e){const r=o.oxw(2);o.xp6(1),o.hij(" Error: ",r.passError," ")}}function T(e,d){if(1&e&&(o.TgZ(0,"span",19),o._uU(1),o.qZA()),2&e){const r=o.oxw(2);o.xp6(1),o.hij(" error: ",r.direccionError," ")}}function x(e,d){if(1&e&&(o.TgZ(0,"span",19),o._uU(1),o.qZA()),2&e){const r=o.oxw(2);o.xp6(1),o.hij(" Error : ",r.telefonoError,"")}}const v=function(){return["/parteadm/menua/menuAdmin"]};function A(e,d){if(1&e){const r=o.EpF();o.TgZ(0,"form",4),o.NdJ("ngSubmit",function(){return o.CHM(r),o.oxw().editarAdmin()}),o.TgZ(1,"div",5),o.TgZ(2,"p",6),o.TgZ(3,"strong"),o._uU(4,"Tu id "),o.qZA(),o.qZA(),o.TgZ(5,"div",7),o.TgZ(6,"input",8),o.NdJ("ngModelChange",function(i){return o.CHM(r),o.oxw().admin.id=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"div",5),o.TgZ(8,"p",6),o.TgZ(9,"strong"),o._uU(10,"Tu nombre "),o.qZA(),o.qZA(),o.TgZ(11,"div",7),o.TgZ(12,"input",9),o.NdJ("ngModelChange",function(i){return o.CHM(r),o.oxw().admin.nombre=i}),o.qZA(),o.YNc(13,h,2,1,"span",10),o.qZA(),o.qZA(),o.TgZ(14,"div",5),o.TgZ(15,"p",11),o.TgZ(16,"strong"),o._uU(17,"Tu contrase\xf1a "),o.qZA(),o.qZA(),o.TgZ(18,"div",7),o.TgZ(19,"input",12),o.NdJ("ngModelChange",function(i){return o.CHM(r),o.oxw().admin.password=i}),o.qZA(),o.YNc(20,_,2,1,"span",10),o.qZA(),o.qZA(),o.TgZ(21,"div",5),o.TgZ(22,"p",11),o.TgZ(23,"strong"),o._uU(24,"Tu direcci\xf3n "),o.qZA(),o.qZA(),o.TgZ(25,"div",7),o.TgZ(26,"input",13),o.NdJ("ngModelChange",function(i){return o.CHM(r),o.oxw().admin.direccion=i}),o.qZA(),o.YNc(27,T,2,1,"span",10),o.qZA(),o.qZA(),o.TgZ(28,"div",5),o.TgZ(29,"p",11),o.TgZ(30,"strong"),o._uU(31,"Tu tel\xe9fono "),o.qZA(),o.qZA(),o.TgZ(32,"div",7),o.TgZ(33,"input",14),o.NdJ("ngModelChange",function(i){return o.CHM(r),o.oxw().admin.telefono=i}),o.qZA(),o.YNc(34,x,2,1,"span",10),o.qZA(),o.qZA(),o.TgZ(35,"div",15),o.TgZ(36,"div",16),o.TgZ(37,"a",17),o.NdJ("click",function(){return o.CHM(r),o.oxw().carga()}),o.TgZ(38,"strong"),o.TgZ(39,"mat-icon"),o._uU(40,"arrow_back"),o.qZA(),o._uU(41," Volver al men\xfa de administrador"),o.qZA(),o.qZA(),o.TgZ(42,"button",18),o.TgZ(43,"strong"),o._uU(44," Editar tus datos "),o.TgZ(45,"mat-icon"),o._uU(46," border_color"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const r=o.oxw();o.Q6J("formGroup",r.miFormulario),o.xp6(6),o.Q6J("ngModel",r.admin.id),o.xp6(6),o.Q6J("ngModel",r.admin.nombre),o.xp6(1),o.Q6J("ngIf",r.campoEsValido("nombre")),o.xp6(6),o.Q6J("ngModel",r.admin.password),o.xp6(1),o.Q6J("ngIf",r.campoEsValido("password")),o.xp6(6),o.Q6J("ngModel",r.admin.direccion),o.xp6(1),o.Q6J("ngIf",r.campoEsValido("direccion")),o.xp6(6),o.Q6J("ngModel",r.admin.telefono),o.xp6(1),o.Q6J("ngIf",r.campoEsValido("telefono")),o.xp6(3),o.Q6J("routerLink",o.DdM(11,v))}}let E=(()=>{class e{constructor(r,n,i){this.router=r,this.formB=n,this.adminServi=i,this.submitted=!1,this.loading=!1,this.editando=!1,this.reglaEmail="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.reglaNombre="[A-Za-z]{1,20}",this.reglaApellidos="^[A-Za-z]{1,20}[' ']{1}[A-Za-z]{1,20}$",this.reglaPass="",this.reglaTelefono="[0-9]{9}",this.miFormulario=this.formB.group({id:[],nombre:["",[t.kI.required,t.kI.minLength(4)]],password:["",[]],direccion:["",[t.kI.required]],telefono:["",[t.kI.required,t.kI.pattern(this.reglaTelefono)]]})}ngOnInit(){this.adminServi.recogerInfoAdmin().subscribe(r=>{this.admin=r})}campoEsValido(r){return this.miFormulario.controls[r].errors&&this.miFormulario.controls[r].touched}get nombreError(){var r;const n=null===(r=this.miFormulario.get("nombre"))||void 0===r?void 0:r.errors;return n.required?"El nombre es obligatorio. No puede estar vac\xedo":n.pattern?"El valor ingresado no tiene formato de correo":""}get passError(){var r;const n=null===(r=this.miFormulario.get("password"))||void 0===r?void 0:r.errors;return n.required?"Contrase\xf1a es obligatoria, no puede estar vacio":n.pattern?"Debe contener m\xednimo 4 caracteres":""}get telefonoError(){var r;const n=null===(r=this.miFormulario.get("telefono"))||void 0===r?void 0:r.errors;return n.required?"Tel\xe9fono es obligatorio, no puede estar vac\xedo":n.pattern?"El formato es incorrecto. Debe ser 9 n\xfameros 000000000":""}get direccionError(){var r;const n=null===(r=this.miFormulario.get("direccion"))||void 0===r?void 0:r.errors;return n.required?"La direccion es obligatorio. No puede estar vac\xedo":n.pattern?"El valor ingresado no tiene formato de correo":""}editarAdmin(){if(1!=this.editando){if(this.miFormulario.markAllAsTouched(),this.submitted=!0,this.miFormulario.invalid)return void m().fire({icon:"error",title:"Error",text:"No esta correcto el formato de los datos introducidos"});this.adminEditado=this.miFormulario.value,this.carga(),this.adminServi.editardatosadmin(this.adminEditado).subscribe({next:r=>{m().fire({title:"Editado correctamente",text:"Tu usuario ha sido editada.",icon:"success",position:"center",timer:2500}),(0,f.g)(2500),window.history.back()},error:r=>{m().fire("Error",r.error.message,"error")}})}}volvermenuadmin(){window.history.back()}carga(){m().fire({title:"Por favor, espere",timer:2500}),m().showLoading()}volvermenucliente(){window.history.back()}}return e.\u0275fac=function(r){return new(r||e)(o.Y36(l.F0),o.Y36(t.qu),o.Y36(Z.A))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-editadmin"]],decls:7,vars:1,consts:[[1,"h1","text-info"],[1,"row","justify-content-centrer"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","bg-white","py-5","mt-5","rounded","text-center"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","row","my-2"],[1,"text-info","h4","py-2"],[1,"col-sm-12"],["type","number","formControlName","id","id","id","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["class","form-text text-danger",4,"ngIf"],[1,"text-info","h4","p-2"],["type","password","formControlName","password","id","password","placeholder","Escribe la contrase\xf1a, solo si desea cambiarla, sino dejalo blanco",1,"form-control",3,"ngModel","ngModelChange"],["type","text","formControlName","direccion","id","direccion","placeholder","Escribe tu direcci\xf3n. Puedes realizarlo m\xe1s tarde",1,"form-control",3,"ngModel","ngModelChange"],["type","number","formControlName","telefono","id","telefono","placeholder","Escribe tu tel\xe9fono",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","my-3"],["id","botonregresarfor","routerLinkActive","active",1,"btn","btn-secondary","text-white","col-12","col-lg-6","p-3",3,"routerLink","click"],["id","botonregistro","type","submit",1,"btn","btn-info","col-12","col-lg-6","p-3"],[1,"form-text","text-danger"]],template:function(r,n){1&r&&(o.TgZ(0,"p",0),o.TgZ(1,"strong"),o._uU(2,"Editar tus datos"),o.qZA(),o.qZA(),o._UZ(3,"p"),o.TgZ(4,"div",1),o.TgZ(5,"div",2),o.YNc(6,A,47,12,"form",3),o.qZA(),o.qZA()),2&r&&(o.xp6(6),o.Q6J("ngIf",n.admin))},directives:[u.O5,t._Y,t.JL,t.sg,t.wV,t.Fj,t.JJ,t.u,l.yS,l.Od,g.Hw],encapsulation:2}),e})(),C=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[u.ez,t.u5,g.Ps,t.UX,l.Bz.forChild([{path:"admineditar",component:E}])]]}),e})()}}]);