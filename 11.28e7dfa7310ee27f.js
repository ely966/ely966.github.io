"use strict";(self.webpackChunkveterinariaProyecto=self.webpackChunkveterinariaProyecto||[]).push([[11],{8011:(b,m,a)=>{a.r(m),a.d(m,{EditarClienteModule:()=>A});var u=a(9808),n=a(3075),p=a(842),f=a(5226),c=a.n(f),e=a(5e3),d=a(744),Z=a(4051),g=a(5245);function h(r,l){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" Error:",o.nombreError," ")}}function C(r,l){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" Error: ",o.passError," ")}}function _(r,l){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" error: ",o.direccionError," ")}}function T(r,l){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const o=e.oxw(2);e.xp6(1),e.hij(" Error : ",o.telefonoError,"")}}const x=function(){return["/paginasUser/menu/menucliente"]};function v(r,l){if(1&r){const o=e.EpF();e.TgZ(0,"form",5),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().editarCliente()}),e.TgZ(1,"div",6),e.TgZ(2,"p",7),e.TgZ(3,"strong"),e._uU(4,"Tu id "),e.qZA(),e.qZA(),e.TgZ(5,"div",8),e.TgZ(6,"input",9),e.NdJ("ngModelChange",function(i){return e.CHM(o),e.oxw().cliente.id=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"p",7),e.TgZ(9,"strong"),e._uU(10,"Tu nombre "),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"input",10),e.NdJ("ngModelChange",function(i){return e.CHM(o),e.oxw().cliente.nombre=i}),e.qZA(),e.YNc(13,h,2,1,"span",11),e.qZA(),e.qZA(),e.TgZ(14,"div",6),e.TgZ(15,"p",12),e.TgZ(16,"strong"),e._uU(17,"Tu contrase\xf1a "),e.qZA(),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"input",13),e.NdJ("ngModelChange",function(i){return e.CHM(o),e.oxw().cliente.password=i}),e.qZA(),e.YNc(20,C,2,1,"span",11),e.qZA(),e.qZA(),e.TgZ(21,"div",6),e.TgZ(22,"p",12),e.TgZ(23,"strong"),e._uU(24,"Tu direcci\xf3n "),e.qZA(),e.qZA(),e.TgZ(25,"div",8),e.TgZ(26,"input",14),e.NdJ("ngModelChange",function(i){return e.CHM(o),e.oxw().cliente.direccion=i}),e.qZA(),e.YNc(27,_,2,1,"span",11),e.qZA(),e.qZA(),e.TgZ(28,"div",6),e.TgZ(29,"p",12),e.TgZ(30,"strong"),e._uU(31,"Tu tel\xe9fono "),e.qZA(),e.qZA(),e.TgZ(32,"div",8),e.TgZ(33,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(o),e.oxw().cliente.telefono=i}),e.qZA(),e.YNc(34,T,2,1,"span",11),e.qZA(),e.qZA(),e.TgZ(35,"div",16),e.TgZ(36,"div",17),e.TgZ(37,"a",18),e.NdJ("click",function(){return e.CHM(o),e.oxw().carga()}),e.TgZ(38,"strong"),e.TgZ(39,"mat-icon"),e._uU(40,"arrow_back"),e.qZA(),e._uU(41," Volver al men\xfa de cliente"),e.qZA(),e.qZA(),e.TgZ(42,"button",19),e.TgZ(43,"strong"),e._uU(44," Editar tus datos "),e.TgZ(45,"mat-icon"),e._uU(46," border_color"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const o=e.oxw();e.Q6J("formGroup",o.miFormulario),e.xp6(6),e.Q6J("ngModel",o.cliente.id),e.xp6(6),e.Q6J("ngModel",o.cliente.nombre),e.xp6(1),e.Q6J("ngIf",o.campoEsValido("nombre")),e.xp6(6),e.Q6J("ngModel",o.cliente.password),e.xp6(1),e.Q6J("ngIf",o.campoEsValido("password")),e.xp6(6),e.Q6J("ngModel",o.cliente.direccion),e.xp6(1),e.Q6J("ngIf",o.campoEsValido("direccion")),e.xp6(6),e.Q6J("ngModel",o.cliente.telefono),e.xp6(1),e.Q6J("ngIf",o.campoEsValido("telefono")),e.xp6(3),e.Q6J("routerLink",e.DdM(11,x))}}let E=(()=>{class r{constructor(o,t,i){this.router=o,this.formB=t,this.clienteServi=i,this.submitted=!1,this.loading=!1,this.editando=!1,this.reglaEmail="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.reglaNombre="[A-Za-z]{1,20}",this.reglaApellidos="^[A-Za-z]{1,20}[' ']{1}[A-Za-z]{1,20}$",this.reglaPass="",this.reglaTelefono="[0-9]{9}",this.miFormulario=this.formB.group({id:[],nombre:["",[n.kI.required,n.kI.minLength(4)]],password:["",[]],direccion:["",[n.kI.required]],telefono:["",[n.kI.required,n.kI.pattern(this.reglaTelefono)]]})}ngOnInit(){this.clienteServi.recogerInfoCliente().subscribe(o=>{this.cliente=o})}campoEsValido(o){return this.miFormulario.controls[o].errors&&this.miFormulario.controls[o].touched}get nombreError(){var o;const t=null===(o=this.miFormulario.get("nombre"))||void 0===o?void 0:o.errors;return t.required?"El nombre es obligatorio. No puede estar vac\xedo":t.pattern?"El valor ingresado no tiene formato de correo":""}get passError(){var o;const t=null===(o=this.miFormulario.get("password"))||void 0===o?void 0:o.errors;return t.required?"Contrase\xf1a es obligatoria, no puede estar vacio":t.pattern?"Debe contener m\xednimo 4 caracteres":""}get telefonoError(){var o;const t=null===(o=this.miFormulario.get("telefono"))||void 0===o?void 0:o.errors;return t.required?"Tel\xe9fono es obligatorio, no puede estar vac\xedo":t.pattern?"El formato es incorrecto. Debe ser 9 n\xfameros 000000000":""}get direccionError(){var o;const t=null===(o=this.miFormulario.get("direccion"))||void 0===o?void 0:o.errors;return t.required?"La direccion es obligatorio. No puede estar vac\xedo":t.pattern?"El valor ingresado no tiene formato de correo":""}editarCliente(){if(1!=this.editando){if(this.miFormulario.markAllAsTouched(),this.submitted=!0,this.miFormulario.invalid)return void c().fire({icon:"error",title:"Error",text:"No esta correcto el formato de los datos introducidos"});this.clienteEditado=this.miFormulario.value,this.carga(),this.clienteServi.editardatoscliente(this.clienteEditado).subscribe({next:o=>{c().fire({title:"Editado correctamente",text:"Tu usuario ha sido editado.",icon:"success",position:"center",timer:2500}),(0,p.g)(2500),window.history.back()},error:o=>{c().fire("Error",o.error.message,"error")}})}}carga(){c().fire({title:"Por favor, espere",timer:2500}),c().showLoading()}volvermenucliente(){window.history.back()}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(d.F0),e.Y36(n.qu),e.Y36(Z.$))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-editar-cliente"]],decls:7,vars:1,consts:[[1,"h1","text-info"],[1,"text-info"],[1,"row","justify-content-centrer"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","bg-white","py-5","mt-5","rounded","text-center"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","row","my-2"],[1,"text-info","h4","py-2"],[1,"col-sm-12"],["type","number","formControlName","id","id","id","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","nombre","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["class","form-text text-danger",4,"ngIf"],[1,"text-info","h4","p-2"],["type","password","formControlName","password","id","password","placeholder","Escribe la contrase\xf1a, solo si desea cambiarla, sino dejalo blanco",1,"form-control",3,"ngModel","ngModelChange"],["type","text","formControlName","direccion","id","direccion","placeholder","Escribe tu direcci\xf3n. Puedes realizarlo m\xe1s tarde",1,"form-control",3,"ngModel","ngModelChange"],["type","number","formControlName","telefono","id","telefono","placeholder","Escribe tu tel\xe9fono",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","my-3"],["id","botonregresarfor","routerLinkActive","active",1,"btn","btn-secondary","text-white","col-12","col-lg-6","p-3",3,"routerLink","click"],["id","botonregistro","type","submit",1,"btn","btn-info","col-12","col-lg-6","p-3"],[1,"form-text","text-danger"]],template:function(o,t){1&o&&(e.TgZ(0,"p",0),e.TgZ(1,"strong"),e._uU(2,"~Editar tus datos~"),e.qZA(),e.qZA(),e._UZ(3,"hr",1),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.YNc(6,v,47,12,"form",4),e.qZA(),e.qZA()),2&o&&(e.xp6(6),e.Q6J("ngIf",t.cliente))},directives:[u.O5,n._Y,n.JL,n.sg,n.wV,n.Fj,n.JJ,n.u,d.yS,d.Od,g.Hw],encapsulation:2}),r})(),A=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[u.ez,n.u5,g.Ps,n.UX,d.Bz.forChild([{path:"clienteEditar",component:E}])]]}),r})()}}]);