"use strict";(self.webpackChunkveterinariaProyecto=self.webpackChunkveterinariaProyecto||[]).push([[901],{5901:(N,c,n)=>{n.r(c),n.d(c,{RegistroClienteModule:()=>x});var l=n(744),g=n(520),u=n(9808),d=n(5226),a=n.n(d),i=n(3075),p=n(842),e=n(5e3),f=n(4051),Z=n(384),h=n(5416);function v(o,s){if(1&o&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.hij(" Ups, error: ",r.nombreError," ")}}function T(o,s){if(1&o&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.hij(" Error : ",r.emailErrorMsg," ")}}function A(o,s){if(1&o&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.hij(" Error: ",r.passError," ")}}function C(o,s){1&o&&(e.TgZ(0,"span",18),e._uU(1," -- "),e.qZA())}function E(o,s){if(1&o&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.hij(" Error : ",r.telefonoError,"")}}let q=(()=>{class o{constructor(r,t,m,b,y,U){this.formB=r,this.route=t,this.router=m,this.clienteServi=b,this.authServi=y,this.emailValidator=U,this.submitted=!1,this.loading=!1,this.reglaEmail="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.reglaNombre="[A-Za-z]{1,20}",this.reglaApellidos="^[A-Za-z]{1,20}[' ']{1}[A-Za-z]{1,20}$",this.reglaPass="",this.reglaTelefono="[0-9]{9}",this.miFormulario=this.formB.group({nombre:["",[i.kI.required,i.kI.pattern(this.reglaNombre)]],password:["",[i.kI.required,i.kI.minLength(4)]],email:["",[i.kI.required,i.kI.minLength(5),i.kI.pattern(this.reglaEmail)],[this.emailValidator]],direccion:[""],telefono:["",[i.kI.required,i.kI.pattern(this.reglaTelefono)]]})}campoEsValido(r){return this.miFormulario.controls[r].errors&&this.miFormulario.controls[r].touched}get nombreError(){var r;const t=null===(r=this.miFormulario.get("nombre"))||void 0===r?void 0:r.errors;return t.required?"El nombre es obligatorio. No puede estar vac\xedo":t.pattern?"El valor ingresado no tiene formato de correo":""}get emailErrorMsg(){var r;const t=null===(r=this.miFormulario.get("email"))||void 0===r?void 0:r.errors;return t.required?"Email es obligatorio, no puede estar el campo vac\xedo":t.pattern?"El valor ingresado no tiene formato de correo correcto":t.emailTomado?"El email ya fue tomado anteriormente, es decir, ya existe en la base de datos.Por favor, ingrese otro correo disponible":""}get passError(){var r;const t=null===(r=this.miFormulario.get("password"))||void 0===r?void 0:r.errors;return t.required?"Contrase\xf1a es obligatoria, no puede estar vacio":t.pattern?"Debe contener m\xednimo 4 caracteres":""}get telefonoError(){var r;const t=null===(r=this.miFormulario.get("telefono"))||void 0===r?void 0:r.errors;return t.required?"Tel\xe9fono es obligatorio, no puede estar vac\xedo":t.pattern?"El formato es incorrecto. Debe ser 9 n\xfameros 000000000":""}crearNuevoCliente(){this.miFormulario.markAllAsTouched(),this.submitted=!0,this.miFormulario.invalid?a().fire({icon:"error",title:"Error",text:"No esta correcto el formato de los datos introducidos"}):(this.ClienteNew=this.miFormulario.value,this.loading=!0,this.clienteServi.crearCliente(this.ClienteNew).subscribe({next:r=>{a().fire({position:"center",icon:"success",title:"Se ha registrado correctamente el cliente",showConfirmButton:!1,timer:2500}),(0,p.g)(2500),this.router.navigateByUrl("/")},error:r=>{a().fire({icon:"error",title:"Error",text:r.error.message})}}))}carga(){a().fire({title:"Por favor, espere",timer:2500}),a().showLoading()}cargainicial(){a().fire({title:"Por favor, espere",timer:800}),a().showLoading()}volverInicio(){window.history.back()}ngOnInit(){this.cargainicial()}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(i.qu),e.Y36(l.gz),e.Y36(l.F0),e.Y36(f.$),e.Y36(Z.e),e.Y36(h.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-registro-cliente"]],decls:50,vars:6,consts:[[1,"h1","text-info"],[1,"row","justify-content-centrer"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","bg-white","py-5","mt-5","rounded","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","row","my-2"],[1,"text-info","h4","py-2"],[1,"col-sm-12"],["type","text","formControlName","nombre","id","nombre","placeholder","nombre",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"text-info","h4","p-2"],["type","email","formControlName","email","id","email","placeholder","Escribe tu email",1,"form-control"],["type","password","formControlName","password","id","password","placeholder","Escribe tu password",1,"form-control"],["type","text","formControlName","direccion","id","direccion","placeholder","Escribe tu direcci\xf3n. Puedes realizarlo m\xe1s tarde",1,"form-control"],["type","number","formControlName","telefono","id","telefono","placeholder","Escribe tu tel\xe9fono",1,"form-control"],[1,"form-group","row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","my-3"],["type","submit",1,"btn","btn-info","col-12","col-lg-6","p-3"],[1,"btn","btn-secondary","text-white","btn-xs","col-12","col-lg-6","p-3",3,"click"],[1,"form-text","text-danger"]],template:function(r,t){1&r&&(e.TgZ(0,"p",0),e.TgZ(1,"strong"),e._uU(2,"Reg\xedstrate"),e.qZA(),e.qZA(),e._UZ(3,"p"),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"form",3),e.NdJ("ngSubmit",function(){return t.crearNuevoCliente()}),e.TgZ(7,"div",4),e.TgZ(8,"p",5),e.TgZ(9,"strong"),e._uU(10,"Nombre "),e.qZA(),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"input",7),e.YNc(13,v,2,1,"span",8),e.qZA(),e.qZA(),e.TgZ(14,"div",4),e.TgZ(15,"p",9),e.TgZ(16,"strong"),e._uU(17,"Correo "),e.qZA(),e.qZA(),e.TgZ(18,"div",6),e._UZ(19,"input",10),e.YNc(20,T,2,1,"span",8),e.qZA(),e.qZA(),e.TgZ(21,"div",4),e.TgZ(22,"p",9),e.TgZ(23,"strong"),e._uU(24,"Contrase\xf1a "),e.qZA(),e.qZA(),e.TgZ(25,"div",6),e._UZ(26,"input",11),e.YNc(27,A,2,1,"span",8),e.qZA(),e.qZA(),e.TgZ(28,"div",4),e.TgZ(29,"p",9),e.TgZ(30,"strong"),e._uU(31,"Direcci\xf3n "),e.qZA(),e.qZA(),e.TgZ(32,"div",6),e._UZ(33,"input",12),e.YNc(34,C,2,0,"span",8),e.qZA(),e.qZA(),e.TgZ(35,"div",4),e.TgZ(36,"p",9),e.TgZ(37,"strong"),e._uU(38,"Tel\xe9fono "),e.qZA(),e.qZA(),e.TgZ(39,"div",6),e._UZ(40,"input",13),e.YNc(41,E,2,1,"span",8),e.qZA(),e.qZA(),e.TgZ(42,"div",14),e.TgZ(43,"div",15),e.TgZ(44,"button",16),e.TgZ(45,"strong"),e._uU(46,"Registrar "),e.qZA(),e.qZA(),e.TgZ(47,"a",17),e.NdJ("click",function(){return t.volverInicio()}),e.TgZ(48,"strong"),e._uU(49,"Volver al inicio "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r&&(e.xp6(6),e.Q6J("formGroup",t.miFormulario),e.xp6(7),e.Q6J("ngIf",t.campoEsValido("nombre")),e.xp6(7),e.Q6J("ngIf",t.campoEsValido("email")),e.xp6(7),e.Q6J("ngIf",t.campoEsValido("password")),e.xp6(7),e.Q6J("ngIf",t.campoEsValido("direccion")),e.xp6(7),e.Q6J("ngIf",t.campoEsValido("telefono")))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,u.O5,i.wV],encapsulation:2}),o})(),x=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.ez,i.UX,g.JF,i.u5,i.UX,l.Bz,l.Bz.forChild([{path:"clienteAdd",component:q}])]]}),o})()}}]);