"use strict";(self.webpackChunkveterinariaProyecto=self.webpackChunkveterinariaProyecto||[]).push([[241],{2241:(F,m,n)=>{n.r(m),n.d(m,{AddadminModule:()=>C});var c=n(9808),i=n(3075),g=n(842),p=n(5226),s=n.n(p),r=n(5e3),l=n(744),f=n(9574),Z=n(384),h=n(5416),u=n(5245);function v(e,a){if(1&e&&(r.TgZ(0,"span",20),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" Ups, error: ",o.nombreError," ")}}function A(e,a){if(1&e&&(r.TgZ(0,"span",20),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" Error : ",o.emailErrorMsg," ")}}function T(e,a){if(1&e&&(r.TgZ(0,"span",20),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" Error: ",o.passError," ")}}function q(e,a){1&e&&(r.TgZ(0,"span",20),r._uU(1," -- "),r.qZA())}function E(e,a){if(1&e&&(r.TgZ(0,"span",20),r._uU(1),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.hij(" Error : ",o.telefonoError,"")}}const x=function(){return["/parteadm/menua/menuAdmin"]};let b=(()=>{class e{constructor(o,t,d,y,N,w){this.formB=o,this.route=t,this.router=d,this.adminservi=y,this.authServi=N,this.emailValidator=w,this.registrando=!1,this.submitted=!1,this.loading=!1,this.reglaEmail="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.reglaNombre="[A-Za-z]{1,20}",this.reglaApellidos="^[A-Za-z]{1,20}[' ']{1}[A-Za-z]{1,20}$",this.reglaPass="",this.reglaTelefono="[0-9]{9}",this.reglas="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.miFormulario=this.formB.group({nombre:["",[i.kI.required,i.kI.pattern(this.reglaNombre)]],password:["",[i.kI.required,i.kI.minLength(4)]],email:["",[i.kI.required,i.kI.minLength(5),i.kI.pattern(this.reglaEmail)],[this.emailValidator]],direccion:[""],telefono:["",[i.kI.required,i.kI.pattern(this.reglaTelefono)]],role:[""]})}campoEsValido(o){return this.miFormulario.controls[o].errors&&this.miFormulario.controls[o].touched}get nombreError(){var o;const t=null===(o=this.miFormulario.get("nombre"))||void 0===o?void 0:o.errors;return t.required?"El nombre es obligatorio. No puede estar vac\xedo":t.pattern?"El valor ingresado no tiene formato de correo":""}get emailErrorMsg(){var o;const t=null===(o=this.miFormulario.get("email"))||void 0===o?void 0:o.errors;return t.required?"Email es obligatorio, no puede estar el campo vac\xedo":t.pattern?"El valor ingresado no tiene formato de correo correcto":t.emailTomado?"El email ya fue tomado anteriormente, es decir, ya existe en la base de datos.Por favor, ingrese otro correo disponible":""}get passError(){var o;const t=null===(o=this.miFormulario.get("password"))||void 0===o?void 0:o.errors;return t.required?"Contrase\xf1a es obligatoria, no puede estar vacio":t.pattern?"Debe contener m\xednimo 4 caracteres":""}get telefonoError(){var o;const t=null===(o=this.miFormulario.get("telefono"))||void 0===o?void 0:o.errors;return t.required?"Tel\xe9fono es obligatorio, no puede estar vac\xedo":t.pattern?"El formato es incorrecto. Debe ser 9 n\xfameros 000000000":""}crearNuevoCliente(){if(!this.registrando){if(this.miFormulario.markAllAsTouched(),this.submitted=!0,this.miFormulario.invalid)return void s().fire({icon:"error",title:"Error",text:"No esta correcto el formato de los datos introducidos"});this.ClienteNew=this.miFormulario.value,this.registrando=!0,this.carga(),this.loading=!0,this.adminservi.crearAdministrador(this.ClienteNew).subscribe({next:o=>{s().fire({position:"center",icon:"success",title:"Se ha registrado correctamente el administrador",showConfirmButton:!1,timer:2500}),(0,g.g)(2500),window.location.href="../parteadm/menua/menuAdmin"},error:o=>{s().fire({icon:"error",title:"Error",text:o.error.message})}})}}ngOnInit(){this.cargainicial()}volverMenu(){window.history.back()}carga(){s().fire({title:"Por favor, espere",timer:2500}),s().showLoading()}cargainicial(){s().fire({title:"Por favor, espere",timer:800}),s().showLoading()}}return e.\u0275fac=function(o){return new(o||e)(r.Y36(i.qu),r.Y36(l.gz),r.Y36(l.F0),r.Y36(f.A),r.Y36(Z.e),r.Y36(h.e))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-addadmin"]],decls:63,vars:8,consts:[[1,"h1","text-info"],[1,"text-info"],[1,"row","justify-content-centrer"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","bg-white","py-5","mt-5","rounded","text-center"],[3,"formGroup","ngSubmit"],[1,"form-group","row","my-2"],[1,"text-info","h4","py-2"],[1,"col-sm-12"],["type","text","formControlName","nombre","id","nombre","placeholder","nombre",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"text-info","h4","p-2"],["type","email","formControlName","email","id","email","placeholder","Escribe tu email",1,"form-control"],["type","password","formControlName","password","id","password","placeholder","Escribe tu password",1,"form-control"],["type","text","formControlName","direccion","id","direccion","placeholder","Escribe tu direcci\xf3n. Puedes realizarlo m\xe1s tarde",1,"form-control"],["type","number","formControlName","telefono","id","telefono","placeholder","Escribe tu tel\xe9fono",1,"form-control"],["type","hidden","formControlName","role","id","role","value","ADMIN",1,"form-control"],[1,"form-group","row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","my-3"],["id","botonregresarfor","routerLinkActive","active",1,"btn","btn-secondary","col-12","col-lg-6","text-white","p-3",3,"routerLink","click"],["id","botonregistro","type","submit",1,"btn","btn-info","col-12","col-lg-6","p-3"],[1,"form-text","text-danger"]],template:function(o,t){1&o&&(r.TgZ(0,"p",0),r.TgZ(1,"strong"),r._uU(2,"Reg\xedstrar un nuevo administrador"),r.qZA(),r.qZA(),r._UZ(3,"hr",1),r._UZ(4,"p"),r.TgZ(5,"div",2),r.TgZ(6,"div",3),r.TgZ(7,"form",4),r.NdJ("ngSubmit",function(){return t.crearNuevoCliente()}),r.TgZ(8,"div",5),r.TgZ(9,"p",6),r.TgZ(10,"strong"),r._uU(11,"~Nombre*~ "),r.qZA(),r.qZA(),r.TgZ(12,"div",7),r._UZ(13,"input",8),r.YNc(14,v,2,1,"span",9),r.qZA(),r.qZA(),r._UZ(15,"hr"),r.TgZ(16,"div",5),r.TgZ(17,"p",10),r.TgZ(18,"strong"),r._uU(19,"~Correo*~ "),r.qZA(),r.qZA(),r.TgZ(20,"div",7),r._UZ(21,"input",11),r.YNc(22,A,2,1,"span",9),r.qZA(),r.qZA(),r._UZ(23,"hr"),r.TgZ(24,"div",5),r.TgZ(25,"p",10),r.TgZ(26,"strong"),r._uU(27,"~Contrase\xf1a*~ "),r.qZA(),r.qZA(),r.TgZ(28,"div",7),r._UZ(29,"input",12),r.YNc(30,T,2,1,"span",9),r.qZA(),r.qZA(),r._UZ(31,"hr"),r.TgZ(32,"div",5),r.TgZ(33,"p",10),r.TgZ(34,"strong"),r._uU(35,"~Direcci\xf3n~ "),r.qZA(),r.qZA(),r.TgZ(36,"div",7),r._UZ(37,"input",13),r.YNc(38,q,2,0,"span",9),r.qZA(),r.qZA(),r._UZ(39,"hr"),r.TgZ(40,"div",5),r.TgZ(41,"p",10),r.TgZ(42,"strong"),r._uU(43,"~Tel\xe9fono~ "),r.qZA(),r.qZA(),r.TgZ(44,"div",7),r._UZ(45,"input",14),r.YNc(46,E,2,1,"span",9),r.qZA(),r.qZA(),r._UZ(47,"hr"),r.TgZ(48,"div",5),r.TgZ(49,"div",7),r._UZ(50,"input",15),r.qZA(),r.qZA(),r.TgZ(51,"div",16),r.TgZ(52,"div",17),r.TgZ(53,"a",18),r.NdJ("click",function(){return t.carga()}),r.TgZ(54,"strong"),r.TgZ(55,"mat-icon"),r._uU(56,"arrow_back"),r.qZA(),r._uU(57," Volver al men\xfa "),r.qZA(),r.qZA(),r.TgZ(58,"button",19),r.TgZ(59,"strong"),r._uU(60,"Registrar\t"),r.TgZ(61,"mat-icon"),r._uU(62,"group_add"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.xp6(7),r.Q6J("formGroup",t.miFormulario),r.xp6(7),r.Q6J("ngIf",t.campoEsValido("nombre")),r.xp6(8),r.Q6J("ngIf",t.campoEsValido("email")),r.xp6(8),r.Q6J("ngIf",t.campoEsValido("password")),r.xp6(8),r.Q6J("ngIf",t.campoEsValido("direccion")),r.xp6(8),r.Q6J("ngIf",t.campoEsValido("telefono")),r.xp6(7),r.Q6J("routerLink",r.DdM(7,x)))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,c.O5,i.wV,l.yS,l.Od,u.Hw],encapsulation:2}),e})();var U=n(520);let C=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[c.ez,u.Ps,i.UX,U.JF,i.u5,i.UX,l.Bz,l.Bz.forChild([{path:"adminAdd",component:b}])]]}),e})()}}]);